(function(){var a;a=this.jQuery,this.notifications=function(){var b,c,d,e;return b="undefined"!=typeof Notification&&null!==Notification,d=!1,e="",this.$=function(b){return null!=b?a=b:void 0},this.defaultIcon=function(a){return null!=a?e=a:void 0},this.scheduleRequestingPermissionOnLoad=function(a){var c;return d=null!=(c=b&&a)?c:b},c=function(a){return d&&"granted"!==a.permission},this.requestPermission=function(){c(Notification)&&Notification.requestPermission(function(a){Notification.permission!==a&&(Notification.permission=a)})},this.onLoadHandler=function(b){return function(){b.requestPermission(),a("body").one("click",b.requestPermission),e=a("link[rel=icon]").attr("href")}}(this),this.scheduleOnLoadEvent=function(b){return function(){b.scheduleRequestingPermissionOnLoad()&&a(window).on("load",b.onLoadHandler)}}(this),this.showNotification=function(b,c){var d,f,g,h,i,j,k,l,m,n,o;if(o=null!=c?c:{},k=o.options,h=o.events,m=o.timeout,g=o.closeOnClick,d=a.Deferred(),null!=k&&null==k.icon&&(k.icon=e),j=new Notification(b,k||{icon:e}),l=function(){return null!=m?setTimeout(function(){return j.close()},m):void 0},f=a(j).on({show:function(){d.resolve(this,l())},error:function(){d.reject(this,l())}}),h)for(i in h)n=h[i],f.on(i,n);return g&&f.on("click",function(){j.close()}),j.events=h,j.timeout=m,j.closeOnClick=g||!1,d.promise()},this}.call({})}).call(this);
//# sourceMappingURL=notifications.min.js.map